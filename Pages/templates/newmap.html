<html>
    <head>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
        <link href="../static/css/bootstrap.min.css" rel="stylesheet">
  <script src="../static/js/bootstrap.bundle.min.js"></script>
        <script src="../static/js/jquery-3.6.1.min.js"></script>
        <script src="../static/js/nar.js"></script>

    </head>
<body>
  <header></header>
<div id="map" style="width:100%;height:100%;background:green"></div>
<script>
function initMap() {
  var point=[];
  const uluru = { lat: 47.5413731, lng: -122.1270583 };
  const map = new google.maps.Map(document.getElementById("map"), {
    zoom: 12,
    center: uluru,
  });
  var geocoder = new google.maps.Geocoder();
  $.get('../database/getgaragesale',function(data){
    var address;
    data.forEach(element => {
      address=element.street+", "+element.city+", "+element.states+" "+element.zip;
      geocoder.geocode({'address':address},function(results, status){
        console.log(results);
        var marker=new google.maps.Marker({
        position: results[0].geometry.location,
        title:"garage sale "+element.gsid,
        map: map,
        });
      })
    });
  })

  
  // The marker, positioned at Uluru
  // const marker = new google.maps.Marker({
  //   position: uluru,
  //   map: map,
  // });
  // const marker2 = new google.maps.Marker({
  //   position: uluru2,
  //   map: map,
  // });
}

window.initMap = initMap;

</script>
<script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA0DZnzUceQi8G8bH-4CFl4XD6jawq91Ws&callback=initMap"></script>
</body>
</html>